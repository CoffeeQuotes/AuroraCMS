/*! Sortable 1.4.2 - MIT | git://github.com/rubaxa/Sortable.git */
!function(a){"use strict";"function"==typeof define&&define.amd?define(a):"undefined"!=typeof module&&"undefined"!=typeof module.exports?module.exports=a():"undefined"!=typeof Package?Sortable=a():window.Sortable=a()}(function(){"use strict";function a(a,b){if(!a||!a.nodeType||1!==a.nodeType)throw"Sortable: `el` must be HTMLElement, and not "+{}.toString.call(a);this.el=a,this.options=b=r({},b),a[L]=this;var c={group:Math.random(),sort:!0,disabled:!1,store:null,handle:null,scroll:!0,scrollSensitivity:30,scrollSpeed:10,draggable:/[uo]l/i.test(a.nodeName)?"li":">*",ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",ignore:"a, img",filter:null,animation:0,setData:function(a,b){a.setData("Text",b.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1};for(var d in c)!(d in b)&&(b[d]=c[d]);V(b);for(var f in this)"_"===f.charAt(0)&&(this[f]=this[f].bind(this));this.nativeDraggable=b.forceFallback?!1:P,e(a,"mousedown",this._onTapStart),e(a,"touchstart",this._onTapStart),this.nativeDraggable&&(e(a,"dragover",this),e(a,"dragenter",this)),T.push(this._onDragOver),b.store&&this.sort(b.store.get(this))}function b(a){v&&v.state!==a&&(h(v,"display",a?"none":""),!a&&v.state&&w.insertBefore(v,s),v.state=a)}function c(a,b,c){if(a){c=c||N,b=b.split(".");var d=b.shift().toUpperCase(),e=new RegExp("\\s("+b.join("|")+")(?=\\s)","g");do if(">*"===d&&a.parentNode===c||(""===d||a.nodeName.toUpperCase()==d)&&(!b.length||((" "+a.className+" ").match(e)||[]).length==b.length))return a;while(a!==c&&(a=a.parentNode))}return null}function d(a){a.dataTransfer&&(a.dataTransfer.dropEffect="move"),a.preventDefault()}function e(a,b,c){a.addEventListener(b,c,!1)}function f(a,b,c){a.removeEventListener(b,c,!1)}function g(a,b,c){if(a)if(a.classList)a.classList[c?"add":"remove"](b);else{var d=(" "+a.className+" ").replace(K," ").replace(" "+b+" "," ");a.className=(d+(c?" "+b:"")).replace(K," ")}}function h(a,b,c){var d=a&&a.style;if(d){if(void 0===c)return N.defaultView&&N.defaultView.getComputedStyle?c=N.defaultView.getComputedStyle(a,""):a.currentStyle&&(c=a.currentStyle),void 0===b?c:c[b];b in d||(b="-webkit-"+b),d[b]=c+("string"==typeof c?"":"px")}}function i(a,b,c){if(a){var d=a.getElementsByTagName(b),e=0,f=d.length;if(c)for(;f>e;e++)c(d[e],e);return d}return[]}function j(a,b,c,d,e,f,g){var h=N.createEvent("Event"),i=(a||b[L]).options,j="on"+c.charAt(0).toUpperCase()+c.substr(1);h.initEvent(c,!0,!0),h.to=b,h.from=e||b,h.item=d||b,h.clone=v,h.oldIndex=f,h.newIndex=g,b.dispatchEvent(h),i[j]&&i[j].call(a,h)}function k(a,b,c,d,e,f){var g,h,i=a[L],j=i.options.onMove;return g=N.createEvent("Event"),g.initEvent("move",!0,!0),g.to=b,g.from=a,g.dragged=c,g.draggedRect=d,g.related=e||b,g.relatedRect=f||b.getBoundingClientRect(),a.dispatchEvent(g),j&&(h=j.call(i,g)),h}function l(a){a.draggable=!1}function m(){R=!1}function n(a,b){var c=a.lastElementChild,d=c.getBoundingClientRect();return(b.clientY-(d.top+d.height)>5||b.clientX-(d.right+d.width)>5)&&c}function o(a){for(var b=a.tagName+a.className+a.src+a.href+a.textContent,c=b.length,d=0;c--;)d+=b.charCodeAt(c);return d.toString(36)}function p(a){var b=0;if(!a||!a.parentNode)return-1;for(;a&&(a=a.previousElementSibling);)"TEMPLATE"!==a.nodeName.toUpperCase()&&b++;return b}function q(a,b){var c,d;return function(){void 0===c&&(c=arguments,d=this,setTimeout(function(){1===c.length?a.call(d,c[0]):a.apply(d,c),c=void 0},b))}}function r(a,b){if(a&&b)for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}var s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J={},K=/\s+/g,L="Sortable"+(new Date).getTime(),M=window,N=M.document,O=M.parseInt,P=!!("draggable"in N.createElement("div")),Q=function(a){return a=N.createElement("x"),a.style.cssText="pointer-events:auto","auto"===a.style.pointerEvents}(),R=!1,S=Math.abs,T=([].slice,[]),U=q(function(a,b,c){if(c&&b.scroll){var d,e,f,g,h=b.scrollSensitivity,i=b.scrollSpeed,j=a.clientX,k=a.clientY,l=window.innerWidth,m=window.innerHeight;if(z!==c&&(y=b.scroll,z=c,y===!0)){y=c;do if(y.offsetWidth<y.scrollWidth||y.offsetHeight<y.scrollHeight)break;while(y=y.parentNode)}y&&(d=y,e=y.getBoundingClientRect(),f=(S(e.right-j)<=h)-(S(e.left-j)<=h),g=(S(e.bottom-k)<=h)-(S(e.top-k)<=h)),f||g||(f=(h>=l-j)-(h>=j),g=(h>=m-k)-(h>=k),(f||g)&&(d=M)),(J.vx!==f||J.vy!==g||J.el!==d)&&(J.el=d,J.vx=f,J.vy=g,clearInterval(J.pid),d&&(J.pid=setInterval(function(){d===M?M.scrollTo(M.pageXOffset+f*i,M.pageYOffset+g*i):(g&&(d.scrollTop+=g*i),f&&(d.scrollLeft+=f*i))},24)))}},30),V=function(a){var b=a.group;b&&"object"==typeof b||(b=a.group={name:b}),["pull","put"].forEach(function(a){a in b||(b[a]=!0)}),a.groups=" "+b.name+(b.put.join?" "+b.put.join(" "):"")+" "};return a.prototype={constructor:a,_onTapStart:function(a){var b=this,d=this.el,e=this.options,f=a.type,g=a.touches&&a.touches[0],h=(g||a).target,i=h,k=e.filter;if(!("mousedown"===f&&0!==a.button||e.disabled)&&(h=c(h,e.draggable,d))){if(D=p(h),"function"==typeof k){if(k.call(this,a,h,this))return j(b,i,"filter",h,d,D),void a.preventDefault()}else if(k&&(k=k.split(",").some(function(a){return a=c(i,a.trim(),d),a?(j(b,a,"filter",h,d,D),!0):void 0})))return void a.preventDefault();(!e.handle||c(i,e.handle,d))&&this._prepareDragStart(a,g,h)}},_prepareDragStart:function(a,b,c){var d,f=this,h=f.el,j=f.options,k=h.ownerDocument;c&&!s&&c.parentNode===h&&(G=a,w=h,s=c,t=s.parentNode,x=s.nextSibling,F=j.group,d=function(){f._disableDelayedDrag(),s.draggable=!0,g(s,f.options.chosenClass,!0),f._triggerDragStart(b)},j.ignore.split(",").forEach(function(a){i(s,a.trim(),l)}),e(k,"mouseup",f._onDrop),e(k,"touchend",f._onDrop),e(k,"touchcancel",f._onDrop),j.delay?(e(k,"mouseup",f._disableDelayedDrag),e(k,"touchend",f._disableDelayedDrag),e(k,"touchcancel",f._disableDelayedDrag),e(k,"mousemove",f._disableDelayedDrag),e(k,"touchmove",f._disableDelayedDrag),f._dragStartTimer=setTimeout(d,j.delay)):d())},_disableDelayedDrag:function(){var a=this.el.ownerDocument;clearTimeout(this._dragStartTimer),f(a,"mouseup",this._disableDelayedDrag),f(a,"touchend",this._disableDelayedDrag),f(a,"touchcancel",this._disableDelayedDrag),f(a,"mousemove",this._disableDelayedDrag),f(a,"touchmove",this._disableDelayedDrag)},_triggerDragStart:function(a){a?(G={target:s,clientX:a.clientX,clientY:a.clientY},this._onDragStart(G,"touch")):this.nativeDraggable?(e(s,"dragend",this),e(w,"dragstart",this._onDragStart)):this._onDragStart(G,!0);try{N.selection?N.selection.empty():window.getSelection().removeAllRanges()}catch(b){}},_dragStarted:function(){w&&s&&(g(s,this.options.ghostClass,!0),a.active=this,j(this,w,"start",s,w,D))},_emulateDragOver:function(){if(H){if(this._lastX===H.clientX&&this._lastY===H.clientY)return;this._lastX=H.clientX,this._lastY=H.clientY,Q||h(u,"display","none");var a=N.elementFromPoint(H.clientX,H.clientY),b=a,c=" "+this.options.group.name,d=T.length;if(b)do{if(b[L]&&b[L].options.groups.indexOf(c)>-1){for(;d--;)T[d]({clientX:H.clientX,clientY:H.clientY,target:a,rootEl:b});break}a=b}while(b=b.parentNode);Q||h(u,"display","")}},_onTouchMove:function(b){if(G){a.active||this._dragStarted(),this._appendGhost();var c=b.touches?b.touches[0]:b,d=c.clientX-G.clientX,e=c.clientY-G.clientY,f=b.touches?"translate3d("+d+"px,"+e+"px,0)":"translate("+d+"px,"+e+"px)";I=!0,H=c,h(u,"webkitTransform",f),h(u,"mozTransform",f),h(u,"msTransform",f),h(u,"transform",f),b.preventDefault()}},_appendGhost:function(){if(!u){var a,b=s.getBoundingClientRect(),c=h(s),d=this.options;u=s.cloneNode(!0),g(u,d.ghostClass,!1),g(u,d.fallbackClass,!0),h(u,"top",b.top-O(c.marginTop,10)),h(u,"left",b.left-O(c.marginLeft,10)),h(u,"width",b.width),h(u,"height",b.height),h(u,"opacity","0.8"),h(u,"position","fixed"),h(u,"zIndex","100000"),h(u,"pointerEvents","none"),d.fallbackOnBody&&N.body.appendChild(u)||w.appendChild(u),a=u.getBoundingClientRect(),h(u,"width",2*b.width-a.width),h(u,"height",2*b.height-a.height)}},_onDragStart:function(a,b){var c=a.dataTransfer,d=this.options;this._offUpEvents(),"clone"==F.pull&&(v=s.cloneNode(!0),h(v,"display","none"),w.insertBefore(v,s)),b?("touch"===b?(e(N,"touchmove",this._onTouchMove),e(N,"touchend",this._onDrop),e(N,"touchcancel",this._onDrop)):(e(N,"mousemove",this._onTouchMove),e(N,"mouseup",this._onDrop)),this._loopId=setInterval(this._emulateDragOver,50)):(c&&(c.effectAllowed="move",d.setData&&d.setData.call(this,c,s)),e(N,"drop",this),setTimeout(this._dragStarted,0))},_onDragOver:function(a){var d,e,f,g=this.el,i=this.options,j=i.group,l=j.put,o=F===j,p=i.sort;if(void 0!==a.preventDefault&&(a.preventDefault(),!i.dragoverBubble&&a.stopPropagation()),I=!0,F&&!i.disabled&&(o?p||(f=!w.contains(s)):F.pull&&l&&(F.name===j.name||l.indexOf&&~l.indexOf(F.name)))&&(void 0===a.rootEl||a.rootEl===this.el)){if(U(a,i,this.el),R)return;if(d=c(a.target,i.draggable,g),e=s.getBoundingClientRect(),f)return b(!0),void(v||x?w.insertBefore(s,v||x):p||w.appendChild(s));if(0===g.children.length||g.children[0]===u||g===a.target&&(d=n(g,a))){if(d){if(d.animated)return;r=d.getBoundingClientRect()}b(o),k(w,g,s,e,d,r)!==!1&&(s.contains(g)||(g.appendChild(s),t=g),this._animate(e,s),d&&this._animate(r,d))}else if(d&&!d.animated&&d!==s&&void 0!==d.parentNode[L]){A!==d&&(A=d,B=h(d),C=h(d.parentNode));var q,r=d.getBoundingClientRect(),y=r.right-r.left,z=r.bottom-r.top,D=/left|right|inline/.test(B.cssFloat+B.display)||"flex"==C.display&&0===C["flex-direction"].indexOf("row"),E=d.offsetWidth>s.offsetWidth,G=d.offsetHeight>s.offsetHeight,H=(D?(a.clientX-r.left)/y:(a.clientY-r.top)/z)>.5,J=d.nextElementSibling,K=k(w,g,s,e,d,r);if(K!==!1){if(R=!0,setTimeout(m,30),b(o),1===K||-1===K)q=1===K;else if(D){var M=s.offsetTop,N=d.offsetTop;q=M===N?d.previousElementSibling===s&&!E||H&&E:N>M}else q=J!==s&&!G||H&&G;s.contains(g)||(q&&!J?g.appendChild(s):d.parentNode.insertBefore(s,q?J:d)),t=s.parentNode,this._animate(e,s),this._animate(r,d)}}}},_animate:function(a,b){var c=this.options.animation;if(c){var d=b.getBoundingClientRect();h(b,"transition","none"),h(b,"transform","translate3d("+(a.left-d.left)+"px,"+(a.top-d.top)+"px,0)"),b.offsetWidth,h(b,"transition","all "+c+"ms"),h(b,"transform","translate3d(0,0,0)"),clearTimeout(b.animated),b.animated=setTimeout(function(){h(b,"transition",""),h(b,"transform",""),b.animated=!1},c)}},_offUpEvents:function(){var a=this.el.ownerDocument;f(N,"touchmove",this._onTouchMove),f(a,"mouseup",this._onDrop),f(a,"touchend",this._onDrop),f(a,"touchcancel",this._onDrop)},_onDrop:function(b){var c=this.el,d=this.options;clearInterval(this._loopId),clearInterval(J.pid),clearTimeout(this._dragStartTimer),f(N,"mousemove",this._onTouchMove),this.nativeDraggable&&(f(N,"drop",this),f(c,"dragstart",this._onDragStart)),this._offUpEvents(),b&&(I&&(b.preventDefault(),!d.dropBubble&&b.stopPropagation()),u&&u.parentNode.removeChild(u),s&&(this.nativeDraggable&&f(s,"dragend",this),l(s),g(s,this.options.ghostClass,!1),g(s,this.options.chosenClass,!1),w!==t?(E=p(s),E>=0&&(j(null,t,"sort",s,w,D,E),j(this,w,"sort",s,w,D,E),j(null,t,"add",s,w,D,E),j(this,w,"remove",s,w,D,E))):(v&&v.parentNode.removeChild(v),s.nextSibling!==x&&(E=p(s),E>=0&&(j(this,w,"update",s,w,D,E),j(this,w,"sort",s,w,D,E)))),a.active&&((null===E||-1===E)&&(E=D),j(this,w,"end",s,w,D,E),this.save())),w=s=t=u=x=v=y=z=G=H=I=E=A=B=F=a.active=null)},handleEvent:function(a){var b=a.type;"dragover"===b||"dragenter"===b?s&&(this._onDragOver(a),d(a)):("drop"===b||"dragend"===b)&&this._onDrop(a)},toArray:function(){for(var a,b=[],d=this.el.children,e=0,f=d.length,g=this.options;f>e;e++)a=d[e],c(a,g.draggable,this.el)&&b.push(a.getAttribute(g.dataIdAttr)||o(a));return b},sort:function(a){var b={},d=this.el;this.toArray().forEach(function(a,e){var f=d.children[e];c(f,this.options.draggable,d)&&(b[a]=f)},this),a.forEach(function(a){b[a]&&(d.removeChild(b[a]),d.appendChild(b[a]))})},save:function(){var a=this.options.store;a&&a.set(this)},closest:function(a,b){return c(a,b||this.options.draggable,this.el)},option:function(a,b){var c=this.options;return void 0===b?c[a]:(c[a]=b,void("group"===a&&V(c)))},destroy:function(){var a=this.el;a[L]=null,f(a,"mousedown",this._onTapStart),f(a,"touchstart",this._onTapStart),this.nativeDraggable&&(f(a,"dragover",this),f(a,"dragenter",this)),Array.prototype.forEach.call(a.querySelectorAll("[draggable]"),function(a){a.removeAttribute("draggable")}),T.splice(T.indexOf(this._onDragOver),1),this._onDrop(),this.el=a=null}},a.utils={on:e,off:f,css:h,find:i,is:function(a,b){return!!c(a,b,a)},extend:r,throttle:q,closest:c,toggleClass:g,index:p},a.create=function(b,c){return new a(b,c)},a.version="1.4.2",a});

/*!
 * JavaScript Cookie v2.1.3
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */
;(function(factory){var registeredInModuleLoader=false;if(typeof define==='function'&&define.amd){define(factory);registeredInModuleLoader=true;}if(typeof exports==='object'){module.exports=factory();registeredInModuleLoader=true;}if(!registeredInModuleLoader){var OldCookies=window.Cookies;var api=window.Cookies=factory();api.noConflict=function(){window.Cookies=OldCookies;return api;};}}(function(){function extend(){var i=0;var result={};for(;i<arguments.length;i++){var attributes=arguments[i];for(var key in attributes){result[key]=attributes[key];}}return result;}function init(converter){function api(key,value,attributes){var result;if(typeof document==='undefined'){return;}if(arguments.length>1){attributes=extend({path:'/'},api.defaults,attributes);if(typeof attributes.expires==='number'){var expires=new Date();expires.setMilliseconds(expires.getMilliseconds()+attributes.expires*864e+5);attributes.expires=expires;}attributes.expires=attributes.expires?attributes.expires.toUTCString():'';try{result=JSON.stringify(value);if(/^[\{\[]/.test(result)){value=result;}}catch(e){}if(!converter.write){value=encodeURIComponent(String(value)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent);}else{value=converter.write(value,key);}key=encodeURIComponent(String(key));key=key.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent);key=key.replace(/[\(\)]/g,escape);var stringifiedAttributes='';for(var attributeName in attributes){if(!attributes[attributeName]){continue;}stringifiedAttributes+=';'+attributeName;if(attributes[attributeName]===true){continue;}stringifiedAttributes+='='+attributes[attributeName];}return(document.cookie=key+'='+value+stringifiedAttributes);}if(!key){result={};}var cookies=document.cookie?document.cookie.split(';'):[];var rdecode=/(%[0-9A-Z]{2})+/g;var i=0;for(;i<cookies.length;i++){var parts=cookies[i].split('=');var cookie=parts.slice(1).join('=');if(cookie.charAt(0)==='"'){cookie=cookie.slice(1,-1);}try{var name=parts[0].replace(rdecode,decodeURIComponent);cookie=converter.read?converter.read(cookie,name):converter(cookie,name)||cookie.replace(rdecode,decodeURIComponent);if(this.json){try{cookie=JSON.parse(cookie);}catch(e){}}if(key===name){result=cookie;break;}if(!key){result[name]=cookie;}}catch(e){}}return result;}api.set=api;api.get=function(key){return api.call(api,key);};api.getJSON=function(){return api.apply({json:true},[].slice.call(arguments));};api.defaults={};api.remove=function(key,attributes){api(key,'',extend(attributes,{expires:-1}));};api.withConverter=init;return api;}return init(function(){});}));

// toastr
!function(e){e(["jquery"],function(e){return function(){function t(e,t,n){return g({type:O.error,iconClass:m().iconClasses.error,message:e,optionsOverride:n,title:t})}function n(t,n){return t||(t=m()),v=e("#"+t.containerId),v.length?v:(n&&(v=d(t)),v)}function o(e,t,n){return g({type:O.info,iconClass:m().iconClasses.info,message:e,optionsOverride:n,title:t})}function s(e){C=e}function i(e,t,n){return g({type:O.success,iconClass:m().iconClasses.success,message:e,optionsOverride:n,title:t})}function a(e,t,n){return g({type:O.warning,iconClass:m().iconClasses.warning,message:e,optionsOverride:n,title:t})}function r(e,t){var o=m();v||n(o),u(e,o,t)||l(o)}function c(t){var o=m();return v||n(o),t&&0===e(":focus",t).length?void h(t):void(v.children().length&&v.remove())}function l(t){for(var n=v.children(),o=n.length-1;o>=0;o--)u(e(n[o]),t)}function u(t,n,o){var s=!(!o||!o.force)&&o.force;return!(!t||!s&&0!==e(":focus",t).length)&&(t[n.hideMethod]({duration:n.hideDuration,easing:n.hideEasing,complete:function(){h(t)}}),!0)}function d(t){return v=e("<div/>").attr("id",t.containerId).addClass(t.positionClass),v.appendTo(e(t.target)),v}function p(){return{tapToDismiss:!0,toastClass:"toast",containerId:"toast-container",debug:!1,showMethod:"fadeIn",showDuration:300,showEasing:"swing",onShown:void 0,hideMethod:"fadeOut",hideDuration:1e3,hideEasing:"swing",onHidden:void 0,closeMethod:!1,closeDuration:!1,closeEasing:!1,closeOnHover:!0,extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},iconClass:"toast-info",positionClass:"toast-top-right",timeOut:5e3,titleClass:"toast-title",messageClass:"toast-message",escapeHtml:!1,target:"body",closeHtml:'<button type="button">&times;</button>',closeClass:"toast-close-button",newestOnTop:!0,preventDuplicates:!1,progressBar:!1,progressClass:"toast-progress",rtl:!1}}function f(e){C&&C(e)}function g(t){function o(e){return null==e&&(e=""),e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function s(){c(),u(),d(),p(),g(),C(),l(),i()}function i(){var e="";switch(t.iconClass){case"toast-success":case"toast-info":e="polite";break;default:e="assertive"}I.attr("aria-live",e)}function a(){E.closeOnHover&&I.hover(H,D),!E.onclick&&E.tapToDismiss&&I.click(b),E.closeButton&&j&&j.click(function(e){e.stopPropagation?e.stopPropagation():void 0!==e.cancelBubble&&e.cancelBubble!==!0&&(e.cancelBubble=!0),E.onCloseClick&&E.onCloseClick(e),b(!0)}),E.onclick&&I.click(function(e){E.onclick(e),b()})}function r(){I.hide(),I[E.showMethod]({duration:E.showDuration,easing:E.showEasing,complete:E.onShown}),E.timeOut>0&&(k=setTimeout(b,E.timeOut),F.maxHideTime=parseFloat(E.timeOut),F.hideEta=(new Date).getTime()+F.maxHideTime,E.progressBar&&(F.intervalId=setInterval(x,10)))}function c(){t.iconClass&&I.addClass(E.toastClass).addClass(y)}function l(){E.newestOnTop?v.prepend(I):v.append(I)}function u(){if(t.title){var e=t.title;E.escapeHtml&&(e=o(t.title)),M.append(e).addClass(E.titleClass),I.append(M)}}function d(){if(t.message){var e=t.message;E.escapeHtml&&(e=o(t.message)),B.append(e).addClass(E.messageClass),I.append(B)}}function p(){E.closeButton&&(j.addClass(E.closeClass).attr("role","button"),I.prepend(j))}function g(){E.progressBar&&(q.addClass(E.progressClass),I.prepend(q))}function C(){E.rtl&&I.addClass("rtl")}function O(e,t){if(e.preventDuplicates){if(t.message===w)return!0;w=t.message}return!1}function b(t){var n=t&&E.closeMethod!==!1?E.closeMethod:E.hideMethod,o=t&&E.closeDuration!==!1?E.closeDuration:E.hideDuration,s=t&&E.closeEasing!==!1?E.closeEasing:E.hideEasing;if(!e(":focus",I).length||t)return clearTimeout(F.intervalId),I[n]({duration:o,easing:s,complete:function(){h(I),clearTimeout(k),E.onHidden&&"hidden"!==P.state&&E.onHidden(),P.state="hidden",P.endTime=new Date,f(P)}})}function D(){(E.timeOut>0||E.extendedTimeOut>0)&&(k=setTimeout(b,E.extendedTimeOut),F.maxHideTime=parseFloat(E.extendedTimeOut),F.hideEta=(new Date).getTime()+F.maxHideTime)}function H(){clearTimeout(k),F.hideEta=0,I.stop(!0,!0)[E.showMethod]({duration:E.showDuration,easing:E.showEasing})}function x(){var e=(F.hideEta-(new Date).getTime())/F.maxHideTime*100;q.width(e+"%")}var E=m(),y=t.iconClass||E.iconClass;if("undefined"!=typeof t.optionsOverride&&(E=e.extend(E,t.optionsOverride),y=t.optionsOverride.iconClass||y),!O(E,t)){T++,v=n(E,!0);var k=null,I=e("<div/>"),M=e("<div/>"),B=e("<div/>"),q=e("<div/>"),j=e(E.closeHtml),F={intervalId:null,hideEta:null,maxHideTime:null},P={toastId:T,state:"visible",startTime:new Date,options:E,map:t};return s(),r(),a(),f(P),E.debug&&console&&console.log(P),I}}function m(){return e.extend({},p(),b.options)}function h(e){v||(v=n()),e.is(":visible")||(e.remove(),e=null,0===v.children().length&&(v.remove(),w=void 0))}var v,C,w,T=0,O={error:"error",info:"info",success:"success",warning:"warning"},b={clear:r,remove:c,error:t,getContainer:n,info:o,options:{},subscribe:s,success:i,version:"2.1.4",warning:a};return b}()})}("function"==typeof define&&define.amd?define:function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t(require("jquery")):window.toastr=t(window.jQuery)});

// spin.min.js
!function(t,i){"object"==typeof exports?module.exports=i():"function"==typeof define&&define.amd?define(i):t.Spinner=i()}(this,function(){"use strict";var t,i=["webkit","Moz","ms","O"],e={};function o(t,i){var e,o=document.createElement(t||"div");for(e in i)o[e]=i[e];return o}function n(t){for(var i=1,e=arguments.length;i<e;i++)t.appendChild(arguments[i]);return t}var r,s=(r=o("style",{type:"text/css"}),n(document.getElementsByTagName("head")[0],r),r.sheet||r.styleSheet);function a(t,e){var o,n,r=t.style;for(e=e.charAt(0).toUpperCase()+e.slice(1),n=0;n<i.length;n++)if(void 0!==r[o=i[n]+e])return o;if(void 0!==r[e])return e}function l(t,i){for(var e in i)t.style[a(t,e)||e]=i[e];return t}function d(t){for(var i=1;i<arguments.length;i++){var e=arguments[i];for(var o in e)void 0===t[o]&&(t[o]=e[o])}return t}function c(t,i){return"string"==typeof t?t:t[i%t.length]}var p={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"50%",left:"50%",position:"absolute"};function u(t){this.opts=d(t||{},u.defaults,p)}u.defaults={},d(u.prototype,{spin:function(i){this.stop();var e=this,n=e.opts,r=e.el=l(o(0,{className:n.className}),{position:n.position,width:0,zIndex:n.zIndex});n.radius,n.length,n.width;if(l(r,{left:n.left,top:n.top}),i&&i.insertBefore(r,i.firstChild||null),r.setAttribute("role","progressbar"),e.lines(r,e.opts),!t){var s,a=0,d=(n.lines-1)*(1-n.direction)/2,c=n.fps,p=c/n.speed,u=(1-n.opacity)/(p*n.trail/100),f=p/n.lines;!function t(){a++;for(var i=0;i<n.lines;i++)s=Math.max(1-(a+(n.lines-i)*f)%p*u,n.opacity),e.opacity(r,i*n.direction+d,s,n);e.timeout=e.el&&setTimeout(t,~~(1e3/c))}()}return e},stop:function(){var t=this.el;return t&&(clearTimeout(this.timeout),t.parentNode&&t.parentNode.removeChild(t),this.el=void 0),this},lines:function(i,r){var a,d,p,u,f,h,m,v,y,g,w=0,x=(r.lines-1)*(1-r.direction)/2;function b(t,i){return l(o(),{position:"absolute",width:r.length+r.width+"px",height:r.width+"px",background:t,boxShadow:i,transformOrigin:"left",transform:"rotate("+~~(360/r.lines*w+r.rotate)+"deg) translate("+r.radius+"px,0)",borderRadius:(r.corners*r.width>>1)+"px"})}for(;w<r.lines;w++)a=l(o(),{position:"absolute",top:1+~(r.width/2)+"px",transform:r.hwaccel?"translate3d(0,0,0)":"",opacity:r.opacity,animation:t&&(d=r.opacity,p=r.trail,u=x+w*r.direction,f=r.lines,void 0,void 0,void 0,void 0,void 0,h=["opacity",p,~~(100*d),u,f].join("-"),m=.01+u/f*100,v=Math.max(1-(1-d)/p*(100-m),d),y=t.substring(0,t.indexOf("Animation")).toLowerCase(),g=y&&"-"+y+"-"||"",e[h]||(s.insertRule("@"+g+"keyframes "+h+"{0%{opacity:"+v+"}"+m+"%{opacity:"+d+"}"+(m+.01)+"%{opacity:1}"+(m+p)%100+"%{opacity:"+d+"}100%{opacity:"+v+"}}",s.cssRules.length),e[h]=1),h+" "+1/r.speed+"s linear infinite")}),r.shadow&&n(a,l(b("#000","0 0 4px #000"),{top:"2px"})),n(i,n(a,b(c(r.color,w),"0 0 1px rgba(0,0,0,.1)")));return i},opacity:function(t,i,e){i<t.childNodes.length&&(t.childNodes[i].style.opacity=e)}});var f=l(o("group"),{behavior:"url(#default#VML)"});return!a(f,"transform")&&f.adj?function(){function t(t,i){return o("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',i)}s.addRule(".spin-vml","behavior:url(#default#VML)"),u.prototype.lines=function(i,e){var o=e.length+e.width,r=2*o;function s(){return l(t("group",{coordsize:r+" "+r,coordorigin:-o+" "+-o}),{width:r,height:r})}var a,d=2*-(e.width+e.length)+"px",p=l(s(),{position:"absolute",top:d,left:d});function u(i,r,a){n(p,n(l(s(),{rotation:360/e.lines*i+"deg",left:~~r}),n(l(t("roundrect",{arcsize:e.corners}),{width:o,height:e.width,left:e.radius,top:-e.width>>1,filter:a}),t("fill",{color:c(e.color,i),opacity:e.opacity}),t("stroke",{opacity:0}))))}if(e.shadow)for(a=1;a<=e.lines;a++)u(a,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(a=1;a<=e.lines;a++)u(a);return n(i,p)},u.prototype.opacity=function(t,i,e,o){var n=t.firstChild;o=o.shadow&&o.lines||0,n&&i+o<n.childNodes.length&&(n=(n=(n=n.childNodes[i+o])&&n.firstChild)&&n.firstChild)&&(n.opacity=e)}}():t=a(f,"animation"),u});

/*!
 * Ladda 1.0.6 (2018-02-04, 13:19)
 * http://lab.hakim.se/ladda
 * MIT licensed
 *
 * Copyright (C) 2017 Hakim El Hattab, http://hakim.se
 */

!function(t,e){"use strict";"object"==typeof exports?module.exports=e(require("spin.js")):"function"==typeof define&&define.amd?define(["spin"],e):t.Ladda=e(t.Spinner)}(this,function(t){"use strict";var e=[];function a(a){if(void 0!==a){if(/ladda-button/i.test(a.className)||(a.className+=" ladda-button"),a.hasAttribute("data-style")||a.setAttribute("data-style","expand-right"),!a.querySelector(".ladda-label")){var u=document.createElement("span");u.className="ladda-label",n=a,i=u,(r=document.createRange()).selectNodeContents(n),r.surroundContents(i),n.appendChild(i)}var n,i,r,d,o,s=a.querySelector(".ladda-spinner");s||((s=document.createElement("span")).className="ladda-spinner"),a.appendChild(s);var F={start:function(){return d||(d=function(e){var a,u,n=e.offsetHeight;0===n&&(n=parseFloat(window.getComputedStyle(e).height));n>32&&(n*=.8);e.hasAttribute("data-spinner-size")&&(n=parseInt(e.getAttribute("data-spinner-size"),10));e.hasAttribute("data-spinner-color")&&(a=e.getAttribute("data-spinner-color"));e.hasAttribute("data-spinner-lines")&&(u=parseInt(e.getAttribute("data-spinner-lines"),10));var i=.2*n;return new t({color:a||"#fff",lines:u||12,radius:i,length:.6*i,width:i<7?2:3,zIndex:"auto",top:"19px",left:"auto",className:""})}(a)),a.disabled=!0,a.setAttribute("data-loading",""),clearTimeout(o),d.spin(s),this.setProgress(0),this},startAfter:function(t){return clearTimeout(o),o=setTimeout(function(){F.start()},t),this},stop:function(){return F.isLoading()&&(a.disabled=!1,a.removeAttribute("data-loading")),clearTimeout(o),d&&(o=setTimeout(function(){d.stop()},1e3)),this},toggle:function(){return this.isLoading()?this.stop():this.start()},setProgress:function(t){t=Math.max(Math.min(t,1),0);var e=a.querySelector(".ladda-progress");0===t&&e&&e.parentNode?e.parentNode.removeChild(e):(e||((e=document.createElement("div")).className="ladda-progress",a.appendChild(e)),e.style.width=(t||0)*a.offsetWidth+"px")},enable:function(){return this.stop()},disable:function(){return this.stop(),a.disabled=!0,this},isLoading:function(){return a.hasAttribute("data-loading")},remove:function(){clearTimeout(o),a.disabled=!1,a.removeAttribute("data-loading"),d&&(d.stop(),d=null),e.splice(e.indexOf(F),1)}};return e.push(F),F}console.warn("Ladda button target must be defined.")}function u(t,e){if("function"==typeof t.addEventListener){var u=a(t),n=-1;t.addEventListener("click",function(){var a,i,r=!0,d=function(t,e){for(;t.parentNode&&t.tagName!==e;)t=t.parentNode;return e===t.tagName?t:void 0}(t,"FORM");if(void 0!==d&&!d.hasAttribute("novalidate"))if("function"==typeof d.checkValidity)r=d.checkValidity();else for(var o=(a=d,i=[],["input","textarea","select"].forEach(function(t){for(var e=a.getElementsByTagName(t),u=0;u<e.length;u++)e[u].hasAttribute("required")&&i.push(e[u])}),i),s=0;s<o.length;s++){var F=o[s],l=F.getAttribute("type");if(""===F.value.replace(/^\s+|\s+$/g,"")&&(r=!1),"checkbox"!==l&&"radio"!==l||F.checked||(r=!1),"email"===l&&(r=/^[a-z0-9!#$%&'*+/=?^_`{|}~.-]+@[a-z0-9-]+(\.[a-z0-9-]+)*$/i.test(F.value)),"url"===l&&(r=/^([a-z]([a-z]|\d|\+|-|\.)*):(\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?((\[(|(v[\da-f]{1,}\.(([a-z]|\d|-|\.|_|~)|[!\$&'\(\)\*\+,;=]|:)+))\])|((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=])*)(:\d*)?)(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*|(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)|((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)|((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)){0})(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(F.value)),!r)break}r&&(u.startAfter(1),"number"==typeof e.timeout&&(clearTimeout(n),n=setTimeout(u.stop,e.timeout)),"function"==typeof e.callback&&e.callback.apply(null,[u]))},!1)}}return{bind:function(t,e){var a;if("string"==typeof t)a=document.querySelectorAll(t);else{if("object"!=typeof t)throw new Error("target must be string or object");a=[t]}e=e||{};for(var n=0;n<a.length;n++)u(a[n],e)},create:a,stopAll:function(){for(var t=0,a=e.length;t<a;t++)e[t].stop()}}});


$('#panel-rst').submit(function(){
  $('#rstbusy').html('<i class="i animated infinite spin"><svg role="img" focusable="false" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 14"><path d="m 4.62,11.2 q 0,0.525 -0.371875,0.8925 Q 3.87625,12.46 3.36,12.46 2.835,12.46 2.4675,12.0925 2.1,11.725 2.1,11.2 2.1,10.675 2.4675,10.3075 2.835,9.94 3.36,9.94 3.87625,9.94 4.248125,10.3075 4.62,10.675 4.62,11.2 z m 3.78,1.68 q 0,0.46375 -0.328125,0.791875 Q 7.74375,14 7.28,14 6.81625,14 6.488125,13.671875 6.16,13.34375 6.16,12.88 6.16,12.41625 6.488125,12.088125 6.81625,11.76 7.28,11.76 q 0.46375,0 0.791875,0.328125 Q 8.4,12.41625 8.4,12.88 z M 3.08,7.28 Q 3.08,7.8575 2.66875,8.26875 2.2575,8.68 1.68,8.68 1.1025,8.68 0.69125,8.26875 0.28,7.8575 0.28,7.28 0.28,6.7025 0.69125,6.29125 1.1025,5.88 1.68,5.88 2.2575,5.88 2.66875,6.29125 3.08,6.7025 3.08,7.28 z m 9.1,3.92 q 0,0.4025 -0.28875,0.69125 Q 11.6025,12.18 11.2,12.18 10.7975,12.18 10.50875,11.89125 10.22,11.6025 10.22,11.2 q 0,-0.4025 0.28875,-0.69125 Q 10.7975,10.22 11.2,10.22 q 0.4025,0 0.69125,0.28875 Q 12.18,10.7975 12.18,11.2 z M 4.9,3.36 Q 4.9,3.99875 4.449375,4.449375 3.99875,4.9 3.36,4.9 2.72125,4.9 2.270625,4.449375 1.82,3.99875 1.82,3.36 1.82,2.72125 2.270625,2.270625 2.72125,1.82 3.36,1.82 3.99875,1.82 4.449375,2.270625 4.9,2.72125 4.9,3.36 z M 8.96,1.68 q 0,0.7 -0.49,1.19 Q 7.98,3.36 7.28,3.36 6.58,3.36 6.09,2.87 5.6,2.38 5.6,1.68 5.6,0.98 6.09,0.49 6.58,0 7.28,0 7.98,0 8.47,0.49 8.96,0.98 8.96,1.68 z m 4.76,5.6 q 0,0.35 -0.245,0.595 Q 13.23,8.12 12.88,8.12 12.53,8.12 12.285,7.875 12.04,7.63 12.04,7.28 12.04,6.93 12.285,6.685 12.53,6.44 12.88,6.44 q 0.35,0 0.595,0.245 Q 13.72,6.93 13.72,7.28 z M 11.9,3.36 q 0,0.28875 -0.205625,0.494375 Q 11.48875,4.06 11.2,4.06 10.91125,4.06 10.705625,3.854375 10.5,3.64875 10.5,3.36 10.5,3.07125 10.705625,2.865625 10.91125,2.66 11.2,2.66 q 0.28875,0 0.494375,0.205625 Q 11.9,3.07125 11.9,3.36 z"/></svg></i>');
  $.ajax({
    data:$(this).serialize(),
    type:$(this).attr('method'),
    url:$(this).attr('action'),
    success:function(response){
      var action=response.split("|");
      const el=document.getElementById(action[0]);
      const notification=document.createElement(action[1]);
      notification.className=action[3];
      notification.innerHTML=action[4];
      $('form .not').remove();
      if(action[2]=='prepend'){
        el.insertBefore(notification,el.firstChild);
      }else if(action[2]=='append'){
        el.appendChild(notification);
      }else if(action[2]=='after'){
        el.after(notification);
      }else if(action[2]=='before'){
        el.before(notification);
      }else if(action[2]=='replace'){
        el.innerHTML=`<`+action[1]+` class="`+action[3]+`">`+action[4]+`</`+action[1]+`>`;
      }
      $('#rstbusy').html('Send');
    }
  });
  return false;
});
function orderitemstoggle(source) {
  checkboxes = document.getElementsByName('item');
  for(var i=0, n=checkboxes.length;i<n;i++) {
    checkboxes[i].checked = source.checked;
  }
}
function update(id,t,c,da,ty){
	if(t=='comments'){
		if(c=='status'){
			$('#approve_'+id).remove();
		}
		if(da=='approved'){
			$('#l_'+id).removeClass('danger');
		}
	}else{
		if(t=='media'){
//        			$('#mediab'+c).before(busy);
		}else{
//        			$('#'+c).before(busy);
		}
	}
  if(ty=='select'){
    $('#'+c).parent().find(".dot-pulse").remove();
    $('#'+c).after('<div class="dot-pulse select"></div>');
  }
	$.ajax({
		type:"GET",
		url:"core/update.php",
		data:{
			id:id,
			t:t,
			c:c,
			da:da
		}
	}).done(function(msg){
    if(ty=='select'){
      $('#'+c).parent().find(".dot-pulse").remove();
    }
    if(c=='tis'||c=='tie'||c=='pti'){
      if($('#labeldate'+c+id).length > 0){
        $('#labeldate'+c+id).html(msg);
      }
    }
		if(t=='login'){
			if(c=='layoutAccounts'||c=='layoutContent'){
				$('#listtype').removeClass('list card table').addClass(da);
			}
      if(c=='rank'){
        if(da>301&&da<400){
          $('#aWT'+id).removeClass().addClass('d-inline');
          $('#wholesaler'+id).removeClass().addClass('d-inline');
        }
        if(da<301||da>399){
          $('#aWT'+id).addClass('d-none');
          $('#wholesaler'+id).addClass('d-none');
        }
        if($('#accountWholesaler'+id).is(':checked')){
          $('#wholesaler'+id).removeClass().addClass('d-none');
        }
      }
		}
    if(t=='orders'&&da=='archived'){
      $('#l_' + id).addClass('animated zoomOut');
      setTimeout(function(){$('#l_' + id).remove();},500);
      toastr["info"]("Order Archived!");
    }
		if(t=='config'&&c=='language'){
			location.reload();
		}
		if(t=='messages'){
			if(c=='folder'){
				$('#l_'+id).addClass('animated zoomOut');
				setTimeout(function(){$('#l_'+id).remove();},500);
			}
		}
		if(t!='comments'){
			if(t=='menu'){
				$('#'+c+'save').remove();
			}else{
				$('#'+c+'save').remove();
			}
			if(t=='media'){
				$('#mediab'+c).remove();
			}else{
//				$('#'+c).remove();
			}
		}
		$('.page-block').removeClass('d-none');
	})
}
function getTimestamp(el){
  var ts = new Date($('#'+el).val()).getTime();
  return ts / 1000;
}
function toggleCalendar(){
	$('#calendar-view,#table-view').toggleClass('d-none');
	$('.i-calendar,.i-table').toggleClass('d-none');
  document.cookie = 'bookingview=;expires=Thu, 01 Jan 1970 00:00:01 GMT;';
	if(!$('#calendar-view').hasClass('d-none')){
		Cookies.set('bookingview','calendar',{expires:14});
		$('#calendar').fullCalendar('render');
	}else{
		Cookies.set('bookingview','table',{expires:14});
	}
	return false;
}
function escapeHtml(string){
  var entityMap={
    "&":"&amp;",
    "<":"&lt;",
    ">":"&gt;",
    '"':"&quot;",
    "'":"&#39;",
    "/":"&#x2F;",
    "`":"&#x60;",
    "=":"&#x3D;"
  };
  return String(string).replace(/[&<>"'`=\/]/g,function(s){
    return entityMap[s];
  });
}
function updateButtons(id,t,c,da){
  $.ajax({
		type:"GET",
		url:"core/update.php",
		data:{
			id:id,
      t:t,
      c:c,
      da:escape(da)
		}
	}).done(function(msg){
		$('#sp').html(msg);
	});
}
function restore(id){
	$.ajax({
		type:"GET",
		url:"core/restore.php",
		data:{
			id:id,
		}
	}).done(function(msg){
		$('#sp').html(msg);
	});
}
$(document).on(
  "click",
  ".quickeditbtn",function(){
    var qeid=$(this).data('qeid');
    var qet=$(this).data('qet');
    $(this).find('.i').toggleClass('d-none');
    $('#quickedit'+qeid).toggleClass('d-none').toggleClass('swing-in-top-fwd');
    $('#quickedit'+qeid).html('<td colspan="8"><div class="row "><div class="spinner"><div class="sk-chase black"><div class="sk-chase-dot"></div><div class="sk-chase-dot"></div><div class="sk-chase-dot"></div><div class="sk-chase-dot"></div><div class="sk-chase-dot"></div><div class="sk-chase-dot"></div></div></div></div></td>');
    $.ajax({
      type:"GET",
      url:"core/quickedit.php",
      data:{
        id:qeid,
        t:qet
      }
    }).done(function(msg){
      $('#quickedit'+qeid).html(msg);
    });
  }
);
function statusSet(id,status){
  $('#l_'+id).removeClass('bg-danger');
  $('#l_'+id).removeClass('bg-warning');
  $('#l_'+id).removeClass('bg-info');
  $('#share'+id).addClass('d-none');
  if($('#qestatus'+id).length > 0){
    $('#qestatus'+id).val(status);
  }
  if(status=='delete'){
    $('#l_'+id).addClass('bg-danger');
    $('#untrash'+id).removeClass('d-none');
    $('#delete'+id).addClass('d-none');
    $('#purge'+id).removeClass('d-none');
  }else{
    $('#untrash'+id).addClass('d-none');
    $('#delete'+id).removeClass('d-none');
    $('#purge'+id).addClass('d-none');
  }
  if(status=='published'){
    $('#share'+id).removeClass('d-none');
  }
  if(status=='archived'){
    $('#l_'+id).addClass('bg-info');
  }
  if(status=='unpublished'){
    $('#l_'+id).addClass('bg-warning');
  }
}
function addTag(t){
  var eltags=$('#tags').val();
  if(!eltags.includes(t)){
    if(eltags.length > 0){
      eltags+=',';
    }
    if(t=='none'){
      eltags='';
    }else{
      eltags+=t;
    }
    $('#tags').val(eltags);
    $('#tags').trigger('change');
  }
}
function more(t,c,b){
	$.ajax({
		type:"GET",
		url:"core/more_"+t+".php",
		data:{
			t:t,
			c:c,
      b:b
		}
	}).done(function(msg){
		if(msg=='nomore'){
			$('#more_'+c).remove();
		}else{
			$('#more_'+c).remove();
			$('#l_tracker').append(msg);
		}
	});
}
function purge(id,t,c){
	if(t=='clearip'){
		var f='clearip';
	}else{
		var f='purge';
	}
	$.ajax({
		type:"GET",
		url:"core/"+f+".php",
		data:{
			id:id,
			t:t,
			c:c
		}
	}).done(function(msg){
		if(t=='clearip'){
			$('[data-ip="'+id+'"]').addClass('animated zoomOut');
			setTimeout(function(){$('[data-ip="'+id+'"]').remove();},500);
		}else if(t=='iplist'||t=='logs'&&id==0){
			$('#l_'+t).addClass('animated zoomOut');
			setTimeout(function(){$('#l_'+t).remove();},500);
		}else if(t=='media'){
			$('#mi_'+id).addClass('animated zoomOut');
			setTimeout(function(){$('#mi_'+id).remove();},500);
		}else if(id==0&&t=='tracker'){
			$('#l_'+t).addClass('animated zoomOut');
			setTimeout(function(){$('#l_'+t).remove();},500);
    }else if(id==0&&t=='cart'){
			$('#l_'+t).addClass('animated zoomOut');
			setTimeout(function(){$('#l_'+t).remove();},500);
		}else{
			$('#l_'+id).addClass('animated zoomOut');
      $('#quickedit_'+id).addClass('animated zoomOut');
			setTimeout(function(){
        $('#l_'+id).remove();
        $('#quickedit'+id).remove();
      },500);
		}
	});
}
function suggest(id){
	$.ajax({
		type:"GET",
		url:"core/suggest.php",
		data:{
			id:id
		}
	}).done(function(msg){
		$('#sp').html(msg);
	})
}
function coverUpdate(id,t,c,da){
	var imgsrc=$('#cover').attr('val');
	$.ajax({
		type:"GET",
		url:"core/update.php",
		data:{
			id:id,
			t:t,
			c:c,
			da:da
		}
	}).done(function(msg){
		if(da==''){
			$('#'+c).val('');
			$('#'+c+'image').attr('src','core/images/noimage-sm.jpg');
//      $('#'+c+'image')[0].parentNode.remove();
		}else{
			if(imgsrc==''){
				$('#'+c+'image').attr('src',da);
//        $('#'+c+'image')[0].parentNode.remove();
        $('#'+c+'image').wrap('<a data-fslightbox="cover" href="'+da+'"></a>');
			}
		}
    refreshFsLightbox();
	})
}
function imageUpdate(id,t,c,da){
	$.ajax({
		type:"GET",
		url:"core/update.php",
		data:{
			id:id,
			t:t,
			c:c,
			da:da
		}
	}).done(function(msg){
    if(da==''){
      $('#'+c).val('');
      $('#'+c+'image').attr('src','core/images/noimage-sm.jpg');
    }
	});
}
function insertAtCaret(aId,t) {
	var ta=document.getElementById(aId);
	var sP=ta.scrollTop;
	var cP=ta.selectionStart;
	var f=(ta.value).substring(0,cP);
	var b=(ta.value).substring(ta.selectionEnd,ta.value.length);
	ta.value=f+t+b;
	cP=cP+t.length;
	ta.selectionStart=cP;
	ta.selectionEnd=cP;
	ta.focus();
	ta.scrollTop=sP;
}
function removeStopWords(id,txt){
//	$('.page-block').addClass('d-block');
	var x;
	var y;
	var word;
	var stop_word;
	var regex_str;
	var regex;
	var cleansed_string=txt;
	var stop_words=new Array('a','about','above','across','after','again','against','all','almost','alone','along','already','also','although','always','among','an','and','another','any','anybody','anyone','anything','anywhere','are','area','areas','around','as','ask','asked','asking','asks','at','away','b','back','backed','backing','backs','be','became','because','become','becomes','been','before','began','behind','being','beings','best','better','between','big','both','but','by','c','came','can','cannot','case','cases','certain','certainly','clear','clearly','come','could','d','did','differ','different','differently','do','does','done','down','down','downed','downing','downs','during','e','each','early','either','end','ended','ending','ends','enough','even','evenly','ever','every','everybody','everyone','everything','everywhere','f','face','faces','fact','facts','far','felt','few','find','finds','first','for','four','from','full','fully','further','furthered','furthering','furthers','g','gave','general','generally','get','gets','give','given','gives','go','going','good','goods','got','great','greater','greatest','group','grouped','grouping','groups','h','had','has','have','having','he','her','here','herself','high','high','high','higher','highest','him','himself','his','how','however','i','if','important','in','interest','interested','interesting','interests','into','is','it','its','itself','j','just','k','keep','keeps','kind','knew','know','known','knows','l','large','largely','last','later','latest','least','less','let','lets','like','likely','long','longer','longest','m','made','make','making','man','many','may','me','member','members','men','might','more','most','mostly','mr','mrs','much','must','my','myself','n','necessary','need','needed','needing','needs','never','new','new','newer','newest','next','no','nobody','non','noone','not','nothing','now','nowhere','number','numbers','o','of','off','often','old','older','oldest','on','once','one','only','open','opened','opening','opens','or','order','ordered','ordering','orders','other','others','our','out','over','p','part','parted','parting','parts','per','perhaps','place','places','point','pointed','pointing','points','possible','present','presented','presenting','presents','problem','problems','put','puts','q','quite','r','rather','really','right','right','room','rooms','s','said','same','saw','say','says','second','seconds','see','seem','seemed','seeming','seems','sees','several','shall','she','should','show','showed','showing','shows','side','sides','since','small','smaller','smallest','so','some','somebody','someone','something','somewhere','state','states','still','still','such','sure','t','take','taken','than','that','the','their','them','then','there','therefore','these','they','thing','things','think','thinks','this','those','though','thought','thoughts','three','through','thus','to','today','together','too','took','toward','turn','turned','turning','turns','two','u','under','until','up','upon','us','use','used','uses','v','very','w','want','wanted','wanting','wants','was','way','ways','we','well','wells','went','were','what','when','where','whether','which','while','who','whole','whose','why','will','with','within','without','work','worked','working','works','would','x','y','year','years','yet','you','young','younger','youngest','your','yours','z');
	words=cleansed_string.match(/[^\s]+|\s+[^\s+]$/g);
	for(x=0;x<words.length;x++){
		for(y=0;y<stop_words.length;y++){
			word=words[x].replace(/\s+|[^a-z]+/ig,"");
			stop_word=stop_words[y];
			if(word.toLowerCase()==stop_word){
				regex_str="^\\s*"+stop_word+"\\s*$";
				regex_str+="|^\\s*"+stop_word+"\\s+";
				regex_str+="|\\s+"+stop_word+"\\s*$";
				regex_str+="|\\s+"+stop_word+"\\s+";
				regex=new RegExp(regex_str, "ig");
				cleansed_string=cleansed_string.replace(regex," ");
			}
		}
	}
	txt=cleansed_string.replace(/^\s+|\s+$/g,"");
	$('#'+id).val(txt).change();
}
function makeClient(id){
  $.ajax({
		type:"GET",
		url:"core/add_data.php",
		data:{
			id:id,
      act:'make_client'
		}
	}).done(function(msg){
		$('#sp').html(msg);
	});
}
function changeClient(id,oid,w){
	if(w=='booking'||w=='noaccount'){
    $.ajax({
      type:"GET",
      url:"core/change_bookingClient.php",
      data:{
        id:id,
        bid:oid,
        w:w
      }
    }).done(function(msg){
      $('#sp').html(msg);
    });
	}else{
		if(id==0){
      $.ajax({
        type:"GET",
        url:"core/change_orderClient.php",
        data:{
          id:id,
          oid:oid
        }
      }).done(function(msg){
        $('#sp').html(msg);
      });
			$('.oce').attr('readonly','readonly');
			$('.ocesave').addClass('d-none');
			$('.ocehelp').removeClass('d-none');
		}else{
      $.ajax({
        type:"GET",
        url:"core/change_orderClient.php",
        data:{
          id:id,
          oid:oid
        }
      }).done(function(msg){
        $('#sp').html(msg);
      });
			$('.oce').removeAttr('readonly');
			$('.ocesave').removeClass('d-none');
			$('.ocehelp').addClass('d-none');
		}
	}
}
function reload(c){
	location.reload(true);
}
function loadMore(l,is,ie,action,lang){
	$('#more_'+is).html('');
	$.ajax({
		type:"GET",
		url:"core/layout/"+l+".php",
		data:{
			is:is,
			ie:ie,
			action:action,
			l:lang
		}
	}).done(function(msg){
		$('#l_activity').append(msg);
//		$('.page-block').removeClass('d-block');
	})
}
var phrases=[
" A cold one","A few stubbies short of a six-pack","A few sandwiches short of a picnic","Accadacca","Ace ","Aerial pingpong ","Ambo ","Amber fluid ","and","also","Ankle biter ","Apples ","Arvo ","As busy as a ","As cross as a","As cunning as a","As dry as a","As stands out like ","Aussie Rules Footy ","Aussie salute","Avo ","Avos "
,"Back of Bourke ","Bail ","Bail out ","Banana bender","Barbie","Barbie ","Barrack ","Bastard ","Bastards ","Bathers ","Battler ","Bazza","Bail up ","Beauty ","Better than a ham sandwich","Better than a kick up the backside ","Big Smoke ","Bikie","Billabong ","Billy ","Bingle ","Bities","Bitzer","Bizzo ","Blimey ","Blind ","Bloke","bloody","Bloody ","Bloody oath ","Bloody ripper ","Blow in the bag ","Blowie ","Bludger ","Blue ","Bluey","Boardies","Bodgy ","Bog standard ","Bogan","Bogged ","Boil-over ","Bonza","Bonzer ","Boogie board ","Booze","Booze bus","Boozer ","Bottle-o ","Bottlo","Bounce ","Bradman","Brass razoo","Brekkie ","Brickie ","Brisvegas ","Brizzie","Brolly","Bruce","Brumby ","Buck's night ","Buckley's chance ","Budgie smugglers ","Buggered","Built like a","Bull bar ","Bundy ","Bunyip ","Burk","Burk ","Bush","Bush bash ","Bush oyster ","Bush telly ","Bushie","Bushman's handkerchief ","Bushranger ","Butcher "
,"Cab Sav ","Catcus ","Cactus mate","Cane toad ","Captain Cook ","Cark it ","Carry on like a pork chop ","Carrying on like a pork chop ","Chewie ","Chin wag ","Chock a Block ","Chokkie ","Chook ","Chrissie ","Christmas ","Chuck a sickie","Chuck a spaz","Chuck a yewy","Chunder ","Ciggies","Ciggy","Clacker ","Cleanskin","Clucky ","Coathanger ","Cobber ","Cockie ","Cockie","Coldie","Come a ","Compo","Cooee","Cook ","Coppers ","Corker ","Counter meal","Crack the shits ","Cracker","Cranky ","Cream ","Crikey ","Crook ","Crow eaters ","Cubby house ","Cut lunch ","Cut lunch commando","Cut snake"
,"Dag","Daks ","Damper ","Dardy ","Dead horse ","Deadset ","decent nik","Defo ","Dero ","Devo ","Digger ","Dill ","Dinky-di","Dinky-di ","Dipstick ","Divvy van ","Do the Harry ","Dob","Dog's balls","Dog's breakfast ","Dog's eye","Dole bludger ","Donga ","Donger ","Doovalacky ","Down Under ","Drongo","Dropkick ","Dry as as dead dingo's donga","Dunny","Dunny ","Dunny rat","Durry "
,"Esky","Eureka"
,"Facey ","Fair crack of the whip","Fair dinkum ","Fair go ","Fair go, mate","Fair suck of the sauce bottle","Fairy floss ","Feral","Few roos loose in the top paddock","Figjam ","Fisho ","Flake ","flamin'","Flanno","Flanny","Flat out","Flat out like a","Flick","Fly wire ","Footy ","Ford","Fossicker","Franger ","Freckle","Fremantle Doctor ","Freo ","Frog in a sock","Frothy ","Fruit loop ","Full blown ","Full boar ","Furthy"
,"G'day","Galah","Galah ","Garbo","Get a dog up ya","Give it a burl ","Gnarly","Gobful","Gobsmacked ","Going off ","Good oil ","Good onya ","Gone Walkabout ","Goon","Goon Bag","Grab us a ","Greenie ","Grog ","Grouse ","Grundies ","Gutful of ","gutta","Gyno "
,"Hard yakka ","Have a Captain Cook ","Have a go, you mug","Head like a dropped pie","heaps","Heaps","He hasn't got a","he's dreaming ","He's got a massive","His blood's worth bottling ","Hit the frog and toad","Hit the turps","Holden","Holy dooley ","Home grown ","Hoon ","Hooroo","Hottie ","how"
,"Icy pole","Iffy ","Ironman","It'll be"
,"Jackaroo","Jillaroo ","Joey","Jug","Jumbuck "
,"Kelpie","Ken Oath","Kero ","Kindie ","Knackered ","Knickers","Knock "
,"Lappy","Larrikin","Laughing gear ","leg it","Lets get some","Lets throw a","Like a madwoman's shit ","Lippy ","Lizard drinking","Lollies","Longneck ","Loose cannon ","Lurk "
,"Maccas","Mad as a","Manchester","Mates","mate","Mate ","Mate's rates","Metho","Mickey Mouse Mate","Middy","Milk bar ","Mokkies","Mongrel ","Moolah","Mozzie","Mullet","Muster ","my"
,"Nah, yeah ","Nipper","no dramas","No dramas","no worries","No worries","No worries, mate, she'll be right","No Wucka's","No wuckin' furries ","No-hoper ","Not my bowl of rice ","Not my cup of tea ","Nuddy"
,"Ocker ","Off chops ","Offsider ","oi","Oldies","On the cans ","One for the road","Onya bike ","Op shop","Outback"
,"Paddock ","Parma","Pash","Pav ","Pelican","Piece of Piss","Piker","pinga","Pint ","Piss Off","Piss Up","Pissed","Pissed Off","Plonk ","Pokies","Porky ","Postie","Pot ","Pozzy ","Pretty spiffy ","Prezzy ","Pub","Pull the wool over your eyes ","Pull the wool over their eyes ","Put a sock in it "
,"Quid"
,"Rack off ","Rage on ","Rapt ","Ratbag ","Reckon","Rego","Rellie","Rello ","Ridgy-didge","Rip snorter","Ripper ","Road train ","Roadie ","Rock up ","Rollie","Roo ","Roo bar ","Root Rat","Ropeable ","Rort ","Rotten","Rubbish ","Runners"
,"Sandgropper ","Sandgroppers ","Sanger ","Schooner","Scratchy","Servo","Shag on a rock","Shark Biscuit ","Shazza","Shazza got us some ","She'll be apples ","She'll be right","Shoey","Shoot Through","Sickie","Sheila","Sheila ","Shonky","Show pony ","Sick","Sickie","Six of one, half a dozen of the other","Skeg ","Skite ","Skull ","Slab ","Slabs","Slacker","slappa ","Slaps","Sleepout ","Smokes","Smoko ","Snag ","Sook ","Spag bol ","Spewin' ","Spit the dummy","Squizz ","Stands out like a","Stickybeak","Stoked ","Stonkered ","Straight to the pool room","Straya ","Strewth","Strides ","Struth","Stubby","Stubby holder ","Stuffed ","Sunnies ","Suss",,"Suss it out","Swag ","Swagger"
,"Taking the piss ","Tell him he's dreaming ","Tell your story walkin'","Ten Clicks away","Thingo ","Thongs ","Throw a shrimp on the barbie ","Throw-down ","Thunderbox ","Tickets on yourself ","Tinny","to ","Toads ","Too right","Top Bloke","Top End ","Tosser ","Trackie dacks ","Trackies","Trackies ","Tradie","Trent from punchy ","Troppo","Truckie ","True blue ","Tucker ","Tucker-bag","Turps ","Two pot screamer","Two up "
,"U-IE ","Ugg","Ugg boots ","Uluru","unit ","Up the duff ","Up Yours","Up Yourself","Ute","Ute "
,"VB","Vee dub","Veg out ","Vinnie's"
,"Waggin' school","Waratah","Watch out for the","Waazoo ","What's crackin' ","What's the John Dory?","Whinge ","We're going ","when","where","whit","Wobbly ","Woop Woop","Wouldn't piss on them if they're on fire","Wrap your laughing gear 'round that","Wuss"
,"ya","Yabber ","Yakka","Yobbo ","You little ripper","Your Shout","Yous"
];

function ipsuMe(el,p){
	if(typeof(phrases)=="undefined")return;
  var ipsum=[];
  if(el=='editor'){
	  var paramnum=p;
	  var paras=p;
    var sentr1=4;
    var sentr2=25;
    var parar1=4;
    var parar2=12;
  }else if(el=='title'){
    var paramnum=1;
    var paras=1;
    var sentr1=1;
    var sentr2=1;
    var parar1=1;
    var parar2=6;
  }else{
    var paramnum=1;
	  var paras=1;
    var sentr1=4;
    var sentr2=25;
    var parar1=4;
    var parar2=12;
  }
	for(i=0;i<paras;i++){
		para="";
		for(j=0;j<ipsumRandom(sentr1,sentr2);j++){
			sent="";
			prevW=-1;
			for(k=0;k<ipsumRandom(parar1,parar2);k++){
				if(sent!="")sent+=" ";
				var rW=ipsumRandom(0,phrases.length);
				while(rW==prevW){rW=ipsumRandom(0,phrases.length);}
        if(phrases[rW])sent+=phrases[rW].trim();
				prevW=rW;
			}
      if(el!='title')sent+=".";
			sent=sent.charAt(0).toUpperCase()+sent.slice(1).toLowerCase();
			if(para!="")para+=" ";
			para+=sent;
		}
		ipsum[ipsum.length]=para;
	}
  if(el=='editor'){
	  var resultHTML='';
	  for(p in ipsum){resultHTML+="<p>"+ipsum[p]+"</p>";}
    $('.summernote').summernote('code',resultHTML);
  }else{
    var resultHTML=$('#'+el);
    for(p in ipsum){resultHTML.val(ipsum[p]);}
  }
}
function ipsumRandom(min,max){return Math.floor((Math.random()*max)+min);}
